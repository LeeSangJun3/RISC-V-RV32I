## 📋 프로젝트 개요

이 프로젝트의 주요 목표는 UART 직렬 통신을 사용하여 스톱워치와 디지털 시계 모듈을 제어하는 것입니다. 사용자는 PC 터미널을 통해 시계와 스톱워치 모드를 전환하고, 각 기능(시작, 정지, 초기화)을 제어하며, 시간을 직접 설정할 수 있습니다. 본 설계는 안정적인 데이터 처리를 위해 FIFO 버퍼를 사용하며, PC로부터 입력된 명령어를 해석하기 위한 CMD Decoder를 포함합니다.

---

## 🛠️ 시스템 아키텍처

시스템은 명령어를 처리하고 시계 및 스톱워치 기능을 제어하기 위해 여러 핵심 모듈로 구성됩니다. 모든 모듈은 시스템 클럭(`sys clk`)과 리셋(`rst`) 신호를 입력으로 받습니다.

### 블록 다이어그램

아래 블록 다이어그램은 프로젝트의 전체적인 아키텍처를 보여줍니다. UART를 통해 수신된 데이터는 FIFO에 저장된 후 **CMD Decoder**에 의해 처리되고, **Switch Control Unit**을 거쳐 시계 및 스톱워치 모듈의 상태를 관리합니다.



### 주요 모듈

* **UART_FIFO**: 비동기 직렬 데이터 수신(RX) 및 송신(TX)을 처리하며, 데이터 손실을 방지하기 위해 FIFO (First-In First-Out) 버퍼를 사용합니다.
* **CMD Decoder**: FIFO로부터 들어온 데이터를 분석하는 핵심 로직 유닛입니다. 'r', 's', 'W'와 같은 PC의 단일 문자 명령어를 다른 모듈에서 사용할 수 있는 1-tick 제어 신호로 변환합니다.
* **Switch Control Unit (SWITCH_CU)**: 시계 또는 스톱워치 모드를 관리하는 FSM(Finite State Machine)입니다. PC 명령으로 장치의 상태를 제어하는 가상 스위치 역할을 합니다.
* **U_Watch & U_StopWatch**: 각각 시계와 스톱워치의 핵심 기능을 담당하는 모듈입니다. 시간 계산, 카운팅, 수정 등의 동작을 처리합니다.
* **FND_CNTL**: 현재 시간이나 스톱워치 값을 7세그먼트 디스플레이에 표시하는 제어 모듈입니다.

---

## ⌨️ 기능 및 명령어

시스템은 PC 터미널에서 전송된 특정 문자 명령어를 통해 완벽하게 제어할 수 있습니다.

| 모드 | 명령어 | 설명 |
| :--- | :--- | :--- |
| **모드 변경** | `'W'` | **시계 모드**로 전환합니다. |
| | `'S'` | **스톱워치 모드**로 전환합니다. |
| **스톱워치 제어** | `'r'` | 스톱워치를 **시작(run)** 합니다. |
| | `'s'` | 스톱워치를 **정지(stop)** 시킵니다. |
| | `'c'` | 스톱워치를 **초기화(clear)** 합니다. |
| **시계 제어** | `'8'` | 선택된 자릿수를 1 **증가**시킵니다. |
| | `'2'` | 선택된 자릿수를 1 **감소**시킵니다. |
| | `'6'` | 수정할 자릿수를 **오른쪽**으로 이동합니다. |
| | `'4'` | 수정할 자릿수를 **왼쪽**으로 이동합니다. |
| **시간 설정** | `'m'` | 전체 시간 수정 모드로 진입합니다. 'm' 입력 후 4자리 숫자를 입력하여 시간을 설정합니다. (예: `m2331` 입력 시 23:31로 설정) |

---

## 🔬 시뮬레이션 및 검증

각 모듈의 기능은 시뮬레이션을 통해 철저히 테스트 및 검증되었습니다. 검증 과정은 아래 항목에 중점을 두었습니다.

* 'W', 'S' 명령어에 따른 Switch Control Unit의 정확한 상태 천이 검증
* 'r', 's', 'c' 명령어에 대한 스톱워치의 정상 동작 검증
* '2', '4', '6', '8' 명령어를 사용한 시계 시간 수정 기능의 동작 검증

아래 시뮬레이션 파형은 입력된 `rx` 데이터에 따라 Switch Control Unit(`state_reg`)의 상태가 변경되는 것을 보여주며, 이를 통해 명령어 처리가 성공적으로 이루어졌음을 확인할 수 있습니다.


아래 시뮬레이션 파형은 시계수정 모드에서 default 시간인 12:00을 11:25로 바꾸는 것을 보여주며, 성공적으로 수정됨을 확인할 수 있습니다.



### *(전체 pptx 자료에서 더 많은 시뮬레이션 자료를 볼 수 있습니다.)*
